<!doctype html>
<html lang="en" ng-app="resolutionApp">
<head>
    <title>My HTML File</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.8/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.8/angular-route.js"></script>
</head>
<body ng-controller="ResolutionController">

<div ng-view=""></div>

<script type="text/javascript" th:inline="javascript">
    /*<![CDATA[*/
    var app = angular.module('resolutionApp', ['ngRoute']);

    app.config(['$routeProvider',
        function ($routeProvider) {
            $routeProvider
                    .when('/list', {
                        templateUrl: 'list',
                        controller: 'ResolutionController'
                    })
                    .when('/detail/:resolutionId', {
                        templateUrl: 'detail',
                        controller: 'ResolutionController'
                    })
                    .otherwise({
                        redirectTo: 'list'
                    });
        }]);

    app.controller('ResolutionController', function ($scope, $http) {
        $scope.context = 'ONLINE';

        $scope.change = function () {
            $http.get('/modification/listResolutions?token=azerty&context=' + $scope.context).success(function (data) {
                $scope.resolutions = data.result;
            });
        };

        $scope.change();


    });
    /*]]>*/
</script>
</body>
</html>